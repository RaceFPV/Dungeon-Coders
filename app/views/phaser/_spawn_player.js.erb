// for when new players join and leave
Dude = function (index) {

    this.game = game;
    this.health = 30;
    this.player = player;
    this.points = 0;

	  this.currentSpeed = 0;
    this.alive = true;

    //create our dialog box at the bottom
    this.dialog = game.add.text(0,0, "", {
        font: "16px carrier_command",
        fill: "#ffffff",
        align: "center"
    });

    console.log('set initial player variables');
    //player settings
    this.dude = game.add.sprite(5, 5, 'dude');
    this.dude.scale.setTo(0.175, 0.175);
    this.dude.animations.add('down', [0, 1, 2], 10, true);
    this.dude.animations.add('up', [3, 4, 5], 10, true);
    this.dude.animations.add('right', [6, 7, 8], 10, true);
    this.dude.animations.add('left', [9, 10, 11], 10, true);
    this.dude.anchor.set(0.1);

    console.log('create player sprite and movement sprites');

    this.dude.id = index;
    this.game.physics.p2.enable(this.dude, false);
    //DEFINE PLAYER BODY
    this.dude.body.setZeroDamping();
    this.dude.body.fixedRotation = true;
    this.dude.body.setMaterial(this.playerMaterial);
    this.dude.body.setCollisionGroup(playerCG);
    this.dude.body.mass = 0.1;
    console.log('create player physics');
    this.dude.angle = 0;
    this.dude.body.x = 500;
    this.dude.body.y = 500;
    this.dude.body.collides([playerCG, wallsCG]);
    this.dude.body.collides([playerCG, objectsCG]);

    console.log('set player position');
};



var spawnPlayer = function(i) {
        console.log('SPAWN');
        if (i == myId) return;
        var plyr = new Dude(i);
        playersList[i] = plyr;
        console.log(i);
}